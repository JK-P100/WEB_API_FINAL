{% extends "base.html" %}

{% block body_class %}admin-no-scroll{% endblock %}
{% load static %}
{% block title %}Bookings Management{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/admin.css' %}?v=4">
<div class="admin-wrapper">
  <div class="admin-sidebar">
    <div class="sidebar-header">Admin</div>
    <nav class="sidebar-nav">
      <a href="{% url 'admin_dashboard' %}" class="nav-item"><span class="nav-icon">📊</span><span>Dashboard</span></a>
      <a href="{% url 'admin_rooms' %}" class="nav-item"><span class="nav-icon">🛏️</span><span>Rooms</span></a>
      <a href="{% url 'admin_bookings' %}" class="nav-item active"><span class="nav-icon">📅</span><span>Bookings</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">👥</span><span>Users</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">📈</span><span>Analytics</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">⚙️</span><span>Settings</span></a>
    </nav>
  </div>
  <div class="admin-main">
    <div class="dashboard-header">
      <h1>Booking Management</h1>
      <p>View and manage all guest bookings</p>
    </div>
    <div class="stats-row">
      <div class="stat-card">
        <div class="stat-icon" style="background: #e8f3ff; color: #2563eb;">📅</div>
        <div class="stat-info">
          <div class="stat-label">Total Bookings</div>
          <div class="stat-value">156</div>
          <div class="stat-change">This month</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: #f0fdf4; color: #16a34a;">✓</div>
        <div class="stat-info">
          <div class="stat-label">Confirmed</div>
          <div class="stat-value">142</div>
          <div class="stat-change">91% success rate</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: #fef3c7; color: #f59e0b;">$</div>
        <div class="stat-info">
          <div class="stat-label">Revenue</div>
          <div class="stat-value">$23,450</div>
          <div class="stat-change">↑ 12% from last month</div>
        </div>
      </div>
    </div>
    <div style="display: flex; gap: 12px; margin-bottom: 24px;">
      <input type="text" placeholder="Search bookings..." style="flex: 1; padding: 11px 14px; border: 1.5px solid #e5e7eb; border-radius: 8px; font-size: 13px; background: #f9fafb; transition: all 0.2s ease;">
      <select style="padding: 11px 14px; border: 1.5px solid #e5e7eb; border-radius: 8px; font-size: 13px; min-width: 140px; background: #f9fafb; transition: all 0.2s ease; cursor: pointer;">
        <option>All Status</option>
        <option>Confirmed</option>
        <option>Pending</option>
        <option>Cancelled</option>
      </select>
    </div>
    <div class="table-card">
      <div class="table-header"><h4>All Bookings</h4></div>
      <div class="table-scroll">
        <table class="bookings-table">
          <thead>
            <tr>
              <th>Booking ID</th>
              <th>Guest Name</th>
              <th>Room</th>
              <th>Check-in</th>
              <th>Check-out</th>
              <th>Nights</th>
              <th>Total Amount</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for booking in bookings %}
            <tr>
              <td>#{{ booking.id }}</td>
              <td>{{ booking.guest_name }}</td>
              <td>{{ booking.room }}</td>
              <td>{{ booking.checkin }}</td>
              <td>{{ booking.checkout }}</td>
              <td>{{ booking.nights }}</td>
              <td>${{ booking.total }}</td>
              <td>{% if booking.status == "Confirmed" %}<span class="status-badge confirmed">Confirmed</span>{% elif booking.status == "Pending" %}<span class="status-badge pending">Pending</span>{% else %}<span class="status-badge cancelled">Cancelled</span>{% endif %}</td>
              <td><button class="btn-sm edit">View</button><button class="btn-sm delete">Delete</button></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}

